(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3729:(e,t,s)=>{Promise.resolve().then(s.bind(s,3452))},3452:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(5155),l=s(2115),r=s(4473);let n=e=>{let{date:t,dayName:s,isWeekend:l,isHoliday:r,events:n}=e,d=t.getDate().toString().padStart(2,"0"),i=25===t.getDate();return(0,a.jsx)("div",{className:"h-8 border-b border-gray-300 p-1 ".concat(l||r?"bg-gray-200":""),children:(0,a.jsxs)("div",{className:"flex items-center h-full",children:[(0,a.jsxs)("span",{className:"text-xs w-16 flex",children:[(0,a.jsx)("span",{className:"w-8",children:s}),(0,a.jsx)("span",{className:"font-medium",children:d})]}),(0,a.jsxs)("div",{className:"flex-1 text-xs",children:[i&&(0,a.jsx)("span",{className:"mr-1",children:"\uD83D\uDCB0 Gaji"}),n.map((e,t)=>(0,a.jsxs)("span",{className:"mr-1",children:[e.title,t<n.length-1&&", "]},e.id))]})]})})},d=e=>{let{month:t,year:s,events:l,holidays:r}=e,d=["SUN","MON","TUE","WED","THU","FRI","SAT"],i=e=>{let t=e.toISOString().split("T")[0];return l.filter(e=>e.date===t)},c=e=>{let t=e.toISOString().split("T")[0];return r.includes(t)};return(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-2",children:["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"][t]}),(0,a.jsx)("div",{className:"border-t border-gray-300",children:(()=>{let e=new Date(s,t,1),a=[];for(;e.getMonth()===t;)a.push(new Date(e)),e.setDate(e.getDate()+1);return a})().map(e=>(0,a.jsx)(n,{date:e,dayName:d[e.getDay()],isWeekend:0===e.getDay()||6===e.getDay(),isHoliday:c(e),events:i(e)},e.toISOString()))})]})};var i=s(9022);let c=e=>{let t=e.split("\n").filter(e=>e.trim());return t.shift(),t.map(e=>{var t,s,a;let l=e.split(",");return{date:(null===(t=l[0])||void 0===t?void 0:t.trim())||"",name:(null===(s=l[1])||void 0===s?void 0:s.trim())||"",type:null===(a=l[2])||void 0===a?void 0:a.trim()}}).filter(e=>e.date&&e.name)},o=e=>["date,name,type",...e.map(e=>"".concat(e.date,",").concat(e.name,",").concat(e.type))].join("\n"),m=()=>{let{settings:e,updateSettings:t}=(0,r.z)(),s=(0,l.useCallback)(e=>{let s=e[0];if(s){let e=new FileReader;e.onload=e=>{var s;t({holidays:c(null===(s=e.target)||void 0===s?void 0:s.result)})},e.readAsText(s)}},[t]),{getRootProps:n,getInputProps:d,isDragActive:m}=(0,i.VB)({onDrop:s,accept:{"text/csv":[".csv"]},multiple:!1});return(0,a.jsxs)("div",{className:"mb-4 p-4 border rounded-lg",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Holiday Management"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{...n(),className:"p-4 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-50\n            ".concat(m?"border-blue-500 bg-blue-50":"border-gray-300"),children:[(0,a.jsx)("input",{...d()}),m?(0,a.jsx)("p",{children:"Drop the CSV file here..."}):(0,a.jsx)("p",{children:"Drag & drop a holiday CSV file here, or click to select one"})]}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("button",{onClick:()=>{let t=new Blob([o(e.holidays)],{type:"text/csv"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="holidays.csv",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Download Current Holidays"})})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Current Holidays"}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:e.holidays.map((s,l)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,a.jsxs)("span",{children:[s.date," - ",s.name]}),(0,a.jsx)("button",{onClick:()=>{t({holidays:e.holidays.filter((e,t)=>t!==l)})},className:"text-red-500 hover:text-red-700",children:"Remove"})]},l))})]})]})},u=[{value:"academic",label:"Academic"},{value:"administrative",label:"Administrative"},{value:"holiday",label:"Holiday"},{value:"personal",label:"Personal"}],x=()=>{let{settings:e,updateSettings:t}=(0,r.z)(),[s,n]=(0,l.useState)({title:"",date:"",type:"academic",recurring:!1}),d=s=>{t({events:e.events.filter(e=>e.id!==s)})};return(0,a.jsxs)("div",{className:"mb-4 p-4 border rounded-lg",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Event Management"}),(0,a.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),s.title&&s.date){let a={id:Date.now().toString(),title:s.title,date:s.date,type:s.type,recurring:s.recurring,endDate:s.endDate};t({events:[...e.events,a]}),n({title:"",date:"",type:"academic",recurring:!1})}},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Event Title"}),(0,a.jsx)("input",{type:"text",value:s.title,onChange:e=>n(t=>({...t,title:e.target.value})),className:"w-full p-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Event Type"}),(0,a.jsx)("select",{value:s.type,onChange:e=>n(t=>({...t,type:e.target.value})),className:"w-full p-2 border rounded",children:u.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:s.date,onChange:e=>n(t=>({...t,date:e.target.value})),className:"w-full p-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"End Date (Optional)"}),(0,a.jsx)("input",{type:"date",value:s.endDate||"",onChange:e=>n(t=>({...t,endDate:e.target.value})),className:"w-full p-2 border rounded"})]}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:s.recurring||!1,onChange:e=>n(t=>({...t,recurring:e.target.checked})),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Recurring Annual Event"})]})})]}),(0,a.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Event"})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Current Events"}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:e.events.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:e.title}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:[e.date," ",e.endDate?"to ".concat(e.endDate):""]}),(0,a.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded ml-2",children:e.type}),e.recurring&&(0,a.jsx)("span",{className:"text-xs bg-blue-100 px-2 py-1 rounded ml-2",children:"Recurring"})]}),(0,a.jsx)("button",{onClick:()=>d(e.id),className:"text-red-500 hover:text-red-700",children:"Remove"})]},e.id))})]})]})},h=()=>{let{settings:e}=(0,r.z)(),t=Array.from({length:6},(e,t)=>t);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(m,{}),(0,a.jsx)(x,{})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,a.jsx)("div",{className:"text-center mb-4",children:(0,a.jsx)("h1",{className:"text-2xl font-bold",style:{fontFamily:e.fonts.header},children:"UTeM 2024 Planner Semester 2 Session 2023/2024"})}),(0,a.jsx)("div",{className:"flex gap-4",children:t.map(t=>(0,a.jsx)(d,{month:t,year:2024,events:e.events,holidays:e.holidays.map(e=>e.date)},t))})]})]})};function v(){return(0,a.jsx)("main",{className:"min-h-screen p-4",children:(0,a.jsx)("div",{className:"container mx-auto",children:(0,a.jsx)(h,{})})})}},4473:(e,t,s)=>{"use strict";s.d(t,{PlannerProvider:()=>d,z:()=>i});var a=s(5155),l=s(2115);let r={theme:"default",fonts:{header:"Arial",body:"Arial"},events:[],holidays:[]},n=(0,l.createContext)({settings:r,updateSettings:()=>{}});function d(e){let{children:t}=e,[s,d]=(0,l.useState)(r);return(0,a.jsx)(n.Provider,{value:{settings:s,updateSettings:e=>{d(t=>({...t,...e}))}},children:t})}let i=()=>(0,l.useContext)(n)}},e=>{var t=t=>e(e.s=t);e.O(0,[22,441,517,358],()=>t(3729)),_N_E=e.O()}]);